# Build stage
FROM node:20-alpine AS runtime
WORKDIR /app/operator

# Copy prebuilt SSR app and production deps (built outside the container)
COPY operator/build ./build
COPY operator/package*.json ./
COPY operator/node_modules ./node_modules

# Configure server port
ENV PORT=7000
ENV HOST=0.0.0.0
EXPOSE 7000

CMD ["node", "build"]
