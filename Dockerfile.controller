FROM ubuntu:24.04

# Install minimal runtime packages including Docker CLI
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
      ca-certificates \
      docker.io && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Copy the pre-built binary from local build
COPY target/release/tsbx-controller /usr/local/bin/tsbx-controller

CMD ["tsbx-controller"]
